{"id":"synesthetica-2uv","title":"Should Style be called VisualGrammar?","status":"closed","priority":2,"issue_type":"task","owner":"nic@o1labs.org","created_at":"2026-01-14T19:18:59.937246Z","created_by":"Nic Young","updated_at":"2026-01-14T20:14:30.051662Z","closed_at":"2026-01-14T20:14:30.051662Z","close_reason":"Resolved. Renamed Style ‚Üí Grammar throughout codebase. Annotations include aliases field for user-facing synonyms (style, look, effect). See SPEC_004."}
{"id":"synesthetica-589","title":"Decide platform and rendering target for v0","description":"The PRD defers platform assumptions, but practical development requires a decision.\n\nOptions:\n1. Browser-first: Web Audio API + Web MIDI API + Canvas/WebGL\n2. Native-first: Electron + Node MIDI libraries + native rendering\n3. Hybrid: Core logic portable, adapters platform-specific\n\nConsiderations:\n- Browser has better MIDI support than commonly assumed (Web MIDI API)\n- Audio input in browser requires user permission flow\n- WebGL gives good rendering performance\n- Native gives lower latency but more setup friction\n\nOutput: Document platform decision in PRD.md under 'Platform assumptions'. This unblocks adapter and renderer implementation.","status":"closed","priority":1,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-14T13:11:23.362362Z","created_by":"Nic Young","updated_at":"2026-01-14T13:24:47.978068Z","closed_at":"2026-01-14T13:24:47.978068Z","close_reason":"Platform decision documented in PRD.md: Browser-first (Web MIDI + Web Audio + WebGL), with audio file input for testing. Native deferred to post-v0."}
{"id":"synesthetica-8do","title":"Define Preset storage and lifecycle","description":"Preset lifecycle is unspecified:\n- How are presets created, saved, edited?\n- Where are they stored? (localStorage, JSON files, DB)\n- Who validates them against the schema?\n- How do built-in vs user presets coexist?\n\nOutput:\n1. Document preset storage format and location\n2. Add validation helpers or schema to packages/contracts\n3. Define the distinction between builtin/user presets\n4. Amend RFC 002 or create SPEC for preset management","status":"closed","priority":2,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-14T13:11:23.74087Z","created_by":"Nic Young","updated_at":"2026-01-14T14:06:18.77741Z","closed_at":"2026-01-14T14:06:18.77741Z","close_reason":"Preset storage defined in SPEC_001_preset_storage.md. Contracts added to packages/contracts/config/preset.ts: PresetSource, PresetMeta, ValidationResult, IPresetCatalog. localStorage for v0, interface abstracts for future migration."}
{"id":"synesthetica-9eb","title":"Define frame timing and clock semantics","description":"The timing model is underspecified.\n\nQuestions to resolve:\n- What drives the frame clock? Pull-based (renderer requests) or push-based (adapters emit)?\n- What happens when audio and MIDI have different latencies?\n- What epoch are Ms timestamps relative to?\n- How is frame synchronization handled across multiple sources?\n\nOutput: Add timing/clock types to packages/contracts/core. Document frame semantics in a new SPEC or amend RFC 002.","status":"closed","priority":2,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-14T13:11:22.799033Z","created_by":"Nic Young","updated_at":"2026-01-15T12:32:57.153332Z","closed_at":"2026-01-15T12:32:57.153332Z","close_reason":"Resolved in SPEC_005_frame_timing_and_clock.md. Decisions: pull-based clock, session-relative timestamps, accept differing latencies for v0, per-part CMS (not consolidated). Ensemble mode deferred to synesthetica-h09."}
{"id":"synesthetica-a3q","title":"Clarify Ruleset statefulness requirements","description":"IRuleset.map(frame: CMSFrame): IntentFrame is currently stateless, but some mappings need history:\n- 'Tension' might depend on harmonic trajectory over several beats\n- Beat phase detection might need memory\n- Phrase-level dynamics require lookback\n\nQuestions to resolve:\n- Should rulesets be allowed internal state?\n- Or should history be a stabilizer concern (stabilizers build up state, rulesets remain pure)?\n- If stateful, what's the reset/init contract?\n\nOutput: Amend IRuleset interface in packages/contracts/pipeline/interfaces.ts if needed. Document the decision in RFC 002 or a new ADR.","status":"closed","priority":2,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-14T13:11:22.985862Z","created_by":"Nic Young","updated_at":"2026-01-15T14:53:33.491396Z","closed_at":"2026-01-15T14:53:33.491396Z","close_reason":"Resolved in SPEC_006. Decision: Rulesets remain pure/stateless. Stabilizers are explicitly stateful with init/dispose/reset lifecycle. Temporal reasoning (tension, beat phase, phrase position) belongs in stabilizers as derived signals."}
{"id":"synesthetica-c79","title":"Set up project structure","status":"open","priority":1,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-14T12:13:31.177452Z","created_by":"Nic Young","updated_at":"2026-01-14T12:13:31.177452Z","dependencies":[{"issue_id":"synesthetica-c79","depends_on_id":"synesthetica-589","type":"blocks","created_at":"2026-01-14T13:12:08.083641Z","created_by":"Nic Young"}]}
{"id":"synesthetica-dxb","title":"Rename Registration‚ÜíPreset and Motif‚ÜíStyle throughout codebase","description":"Registration and Motif are obtuse jargon. Rename to clearer terms:\n\n- Motif ‚Üí Style (built-in visual effect: stars, comets, rain)\n- Registration ‚Üí Preset (user-selectable/saveable configuration bundling styles + settings)\n\nUpdate:\n- All contracts in packages/contracts/\n- All RFCs\n- PRD\n- Glossaries\n- Any other docs","status":"closed","priority":1,"issue_type":"task","owner":"nic@o1labs.org","created_at":"2026-01-14T13:38:36.298633Z","created_by":"Nic Young","updated_at":"2026-01-14T13:57:34.343024Z","closed_at":"2026-01-14T13:57:34.343024Z","close_reason":"Renamed Registration‚ÜíPreset and Motif‚ÜíStyle throughout: contracts, RFCs, PRD, glossaries, and related beads issues."}
{"id":"synesthetica-h09","title":"Ensemble mode: cross-part musical interpretation","description":"## Context\n\nDuring frame timing design (SPEC_005), we identified a tension between:\n- **Per-part interpretation** (current design): Each part gets independent musical interpretation. Essential for ear training where you need to compare reference vs. attempt.\n- **Ensemble interpretation** (deferred): Multiple sources contribute to a single unified musical interpretation (e.g., Part 1's C-E-G + Part 2's E-G-B = Cmaj7).\n\n## Why Deferred\n\nPer-part is correct for v0's ear training focus. Ensemble mode would:\n- Require a fusion step upstream of CMS generation\n- Lose per-part attribution at the CMS level\n- Violate the current I3 invariant if done at the wrong layer\n\n## Architectural Insight\n\nIf implemented, ensemble mode would need:\n1. Adapters emit an intermediate \"raw musical evidence\" format\n2. A fusion step merges evidence from multiple sources\n3. CMS is generated from the fused evidence\n4. A synthetic PartId (e.g., \"ensemble\") for the fused stream\n\nThis is a fundamentally different mode of operation, not something achievable by merging at the compositor level (which can only blend visuals, not re-interpret musical meaning).\n\n## When to Revisit\n\n- When supporting live ensemble performance visualization\n- When users want unified harmonic analysis across multiple players\n- Not needed for single-player ear training scenarios","status":"open","priority":4,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-15T12:32:49.371723Z","created_by":"Nic Young","updated_at":"2026-01-15T12:32:49.371723Z"}
{"id":"synesthetica-jxy","title":"Define error and diagnostic model","description":"No error handling contract exists. What happens when:\n- An adapter fails to parse input?\n- A motif throws during update?\n- The LLM produces an invalid ControlOp?\n- A registration references a non-existent motif?\n\nOutput: Add Diagnostic, PipelineError, and ValidationResult types to packages/contracts. Define error propagation semantics (fail-fast vs graceful degradation per component).","status":"closed","priority":2,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-14T13:11:23.170264Z","created_by":"Nic Young","updated_at":"2026-01-15T15:03:14.283488Z","closed_at":"2026-01-15T15:03:14.283488Z","close_reason":"Resolved in SPEC_007. Added Diagnostic, ValidationError, ControlOpResult types. Graceful degradation for runtime issues, fail-fast for config/invariant violations. Visual indicator recommended for renderers. All diagnostics logged."}
{"id":"synesthetica-qkx","title":"Implement diagnostic logging infrastructure","description":"## Context\n\nSPEC_007 requires that all diagnostics are logged regardless of visual indication. Need to implement the logging infrastructure.\n\n## Requirements\n\n- All Diagnostic emissions logged to console and/or file\n- Minimum log format: [timestamp] [category] [severity] message\n- Include source and partId when available\n- Support structured logging (JSON) for easier parsing\n- Consider log levels for filtering\n\n## Reference\n\nSee SPEC_007_error_and_diagnostic_model.md \"Logging Requirements\" section.\n\n## Acceptance\n\n- Diagnostics from all categories are logged\n- Log format is consistent and parseable\n- Log output is configurable (console, file, both)","status":"open","priority":3,"issue_type":"task","owner":"nic@o1labs.org","created_at":"2026-01-15T15:10:27.104855Z","created_by":"Nic Young","updated_at":"2026-01-15T15:10:27.104855Z"}
{"id":"synesthetica-qtx","title":"Update PRD to reflect RFC proposals","description":"The PRD is sparse and doesn't reflect the detailed requirements that have emerged from the RFCs.\n\nUpdate PRD to include:\n- Functional requirements from RFC 002 (CMS, intents, motifs, registrations)\n- Interaction model from RFC 001 (postures, commitment verbs, layers)\n- Multi-instrument support from RFC 003 (parts, routing, layout)\n- LLM mediation from RFC 004 (speech control, annotations)\n\nKeep it product-focused (what the system does for users), not implementation-focused (how it works internally).","status":"closed","priority":1,"issue_type":"task","owner":"nic@o1labs.org","created_at":"2026-01-14T13:26:10.228756Z","created_by":"Nic Young","updated_at":"2026-01-14T13:29:47.038819Z","closed_at":"2026-01-14T13:29:47.038819Z","close_reason":"PRD updated with functional requirements from all RFCs: input processing, visual output, parts/routing, registrations, interaction model, speech control, and user journeys."}
{"id":"synesthetica-tzc","title":"Specify try/keep/discard lifecycle and session state","description":"RFC 001 introduces commitment verbs (try, keep, discard, queue) but there's no contract surface for this.\n\nQuestions to resolve:\n- What is the representation of a 'trial' state?\n- Can you have nested trials?\n- How does 'discard' know what to revert to?\n- What is a Checkpoint?\n\nOutput: Add SessionState, Checkpoint, and Trial types to packages/contracts. Amend RFC 001 or create a new RFC section specifying the lifecycle semantics.","status":"closed","priority":2,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-14T13:11:22.578857Z","created_by":"Nic Young","updated_at":"2026-01-14T19:43:56.410254Z","closed_at":"2026-01-14T19:43:56.410254Z","close_reason":"Deferred to LLM. The engine provides preset CRUD (IPresetCatalog); try/keep/discard semantics are left to the user‚ÜîLLM conversation, not specified by the engine.","dependencies":[{"issue_id":"synesthetica-tzc","depends_on_id":"synesthetica-ysk","type":"blocks","created_at":"2026-01-14T13:12:07.892904Z","created_by":"Nic Young"}]}
{"id":"synesthetica-wf2","title":"Implement diagnostic visual indicator in renderer","description":"## Context\n\nSPEC_007 recommends that renderers display visual indicators for active diagnostics. This is a user experience feature to surface issues without requiring log inspection.\n\n## Requirements\n\n- Display category-specific icons in top-right corner (or configurable location)\n- Categories: input (üîå), stabilizer (‚öôÔ∏è), grammar (üé®), control (üéõÔ∏è)\n- Transient diagnostics: flash briefly then fade\n- Sticky diagnostics: persist until condition clears\n- Multiple diagnostics: show count badge or stack icons\n\n## Reference\n\nSee SPEC_007_error_and_diagnostic_model.md \"Visual Indicator\" section.\n\n## Acceptance\n\n- Renderer displays appropriate icon when diagnostics are present in SceneFrame\n- Icons decay/persist according to diagnostic persistence mode\n- Implementation is clean and doesn't interfere with main visual content","status":"open","priority":3,"issue_type":"task","owner":"nic@o1labs.org","created_at":"2026-01-15T15:10:20.302069Z","created_by":"Nic Young","updated_at":"2026-01-15T15:10:20.302069Z"}
{"id":"synesthetica-ysk","title":"Design Configuration Service and composite storage","description":"User-authored presets (named configurations like 'matching fireworks') need persistent storage, but the LLM shouldn't own this.\n\nProposed approach:\n- LLM proposes names/checkpoints via bounded ControlOps\n- A Configuration Service owns the catalog and validates all writes\n- User presets stored as first-class catalog entries\n\nNew types needed:\n- UserPreset (snapshot of style selection + macro values + patches)\n- Checkpoint (trial state for undo/discard)\n- IConfigurationService interface\n\nStorage for v0: localStorage in browser\n\nOutput:\n1. Add checkpoint and user preset types to packages/contracts/config/\n2. Extend ControlOps with checkpoint operations\n3. Add IConfigurationService to packages/contracts/pipeline/\n4. Create RFC or SPEC documenting the persistence model","status":"closed","priority":2,"issue_type":"feature","owner":"nic@o1labs.org","created_at":"2026-01-14T13:11:23.551867Z","created_by":"Nic Young","updated_at":"2026-01-14T19:43:51.599972Z","closed_at":"2026-01-14T19:43:51.599972Z","close_reason":"Complete. IPresetCatalog provides CRUD for presets (list, get, save, delete, import/export). Types in packages/contracts/config/preset.ts, documented in SPEC_001.","dependencies":[{"issue_id":"synesthetica-ysk","depends_on_id":"synesthetica-8do","type":"blocks","created_at":"2026-01-14T13:12:07.705103Z","created_by":"Nic Young"}]}
